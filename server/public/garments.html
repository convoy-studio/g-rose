<!DOCTYPE html>
<html class="no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Google + Fashion 2014</title>
	<link rel="icon" href="favicon.ico" />
	<link rel="image_src" href="/images/rose-thumbnail_tmp.jpg" />
	<meta name="description" content="Google + Fashion 2014">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!--CSS-->
	<link rel="stylesheet" href="stylesheets/normalize.min.css">
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
	<link rel="stylesheet" href="stylesheets/global.css">

	<!--JS-->
	<script src="js/libs/modernizr-2.6.2.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>


	<script src="js/designer_garments.js"></script>
	<script src="js/generate.web.js"></script>

</head>
<body class="scene_background">

<div id="site">

	<!--HEADER-->
	<div id="header">
		<div class="inner">
			<h2>GOOGLE+ FASHION 2014</h2>
			<hr>
			<h2 class="collectionName english"></h2>
			<div class="logo"><img src="images/common/logo-v.svg" alt="ROSE" width="40" height="116"/></div>
		</div>
	</div>

	<!--MAIN-->
	<div id="main_container">

		<div id="garments" class="page">
			<div class="inner_page">

				<div class="left side">

					<div class="leftSidebar">

						<div class="female list">
							<h5 class="label english">Dresses</h5>

							<div class="garment" id="Garment0" data-garment="femaleDress" data-name="femaleDress" data-id=0>
								<a class="thumbnail" id="dress1"><img src="/images/garments/thumbnails/femaleDress.jpg" /></a>

								<a class="garment-select "><img class="marker active-garment" src="/images/checkmark.svg" /></a>

								<select id="garmentSelect0">
									<option value="femaleDress">default dress</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>

							<div class="garment" id="Garment1" data-garment="femaleDress" data-name="juliayrenataDress" data-id=1>
								
								<a class="thumbnail" id="dress1"><img src="/images/garments/thumbnails/femaleDress.jpg" /></a>
								<a class="garment-select "><img class="marker active-garment" src="/images/checkmark.svg" /></a>

								<select id="garmentSelect1">
									<option value="femaleDress" selected>default dress</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>
							<br>

							<h5 class="label english">Tops</h5>
							<div class="garment" id="Garment2" data-garment="femaleShirt" data-name="femaleShirt" data-id=2>
								
								<a class="thumbnail" id="shirt" data-garment="femaleShirt"><img src="/images/garments/thumbnails/femaleShirt.jpg" /></a>
								<a class="garment-select "><img class="marker active-garment" src="/images/checkmark.svg" /></a>

								<select id="garmentSelect2">
									<option value="femaleShirt">default shirt</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>

							<div class="garment" id="Garment3" data-garment="femaleCoat" data-name="femaleCoat" data-id=3>
								<a class="thumbnail" id="coat"><img src="/images/garments/thumbnails/femaleCoat.jpg" /></a>
								<a class="garment-select "><img class="marker active-garment" src="/images/checkmark.svg" /></a>

								<select id="garmentSelect3">
									<option value="femaleCoat">coat</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>

							<br>
							<h5 class="label english">Bottoms</h5>
							<div class="garment" id="Garment4" data-garment="femalePants" data-name="femalePants" data-id=4>
								<a class="thumbnail" id="pants"><img src="/images/garments/thumbnails/femalePants.jpg" /></a>
								<a class="garment-select "><img class="marker active-garment" src="/images/checkmark.svg" /></a>

								<select id="garmentSelect4">
									<option value="femalePants">default pants</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>
							<div class="garment" id="Garment5" data-garment="femalePants" data-name="femalePants1" data-id=5>
								<a class="thumbnail" id="pants"><img src="/images/garments/thumbnails/femalePants1.jpg" /></a>
								<a class="garment-select "><img class="marker active-garment" src="/images/checkmark.svg" /></a>

								<select id="garmentSelect5">
									<option value="femalePants">default pants</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>
						</div>

						<div class="male list" style="display:none;">
							<div class="garment" id="Garment0" data-garment="maleCoat" data-name="maleCoat" data-id=0>
								<a class="thumbnail" id="coat"><img src="/images/garments/thumbnails/maleCoat.jpg" /></a>
							

								<select id="garmentSelect0">
									<option value="maleCoat">default shirt</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
								
							</div>

							<div class="garment" id="Garment1" data-garment="maleCoat" data-name="maleCoat" data-id=1>
								<a class="thumbnail" id="coat"><img src="/images/garments/thumbnails/maleCoat.jpg" /></a>
							
								<select id="garmentSelect1">
									<option value="maleCoat">default coat</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
								
							</div>

							<div class="garment" id="Garment2" data-garment="maleShirt" data-name="maleShirt" data-id=2>
								<a class="thumbnail" id="shirt"><img src="/images/garments/thumbnails/maleShirt.jpg" /></a>
								
								<select id="garmentSelect2">
									<option value="maleShirt">default shirt</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
								
							</div>

							<div class="garment" id="Garment3" data-garment="maleSleeveless" data-name="maleSleeveless" data-id=3>
							
								<a class="thumbnail" id="shirt2"><img src="/images/garments/thumbnails/maleShirt.jpg" /></a>
								<select id="garmentSelect3">
									<option value="maleSleeveless">default shirt</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
								
							</div>

							<div class="garment" id="Garment4" data-garment="malePants" data-name="malePants" data-id=4>
								<a class="thumbnail" id="pants"><img src="/images/garments/thumbnails/malePants.jpg" /></a>

								<select id="garmentSelect4">
									<option value="malePants">pants</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
						
							</div>

							<div class="garment" id="Garment5" data-garment="malePants" data-name="malePants" data-id=5>
								<a class="thumbnail" id="pants"><img src="/images/garments/thumbnails/malePants.jpg" /></a>
								
								<select id="garmentSelect5">
									<option value="malePants">pants</option>
								</select>
								<div class="arrows">
									<a class="Larrow"><img src="/images/embellish/arrow-left.svg" width="10" height="20" /></a>
									<a class="Rarrow"><img src="/images/embellish/arrow-right.svg" width="10" height="20" /></a>
								</div>
							</div>
						</div>

						<div class="container_slider rotate">
							<div class="slider" id="rotateSlider"></div>
							<h5 class="label english buffer ">Rotate Model</h5>
						</div>

					</div>
				</div>

				<div class="center">
					<div id="viewer" style="width:700px; height:750px">
						<canvas width="700" height="750" id="view"></canvas>
					</div>
				</div>

				<div class="right side">

					<div class="rightSidebar" id="MorphSliders">

						<div class="garmentSliders female list" id="femaleDress_0">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Length</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Fullness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Hips</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Neckline</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph5"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph6"></div>
								<h5 class="label english">Cap Sleeves</h5>
							</div>
						</div>

						<div class="garmentSliders female list" id="femaleDress_1" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Length</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Fullness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Hips</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Neckline</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph5"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph6"></div>
								<h5 class="label english">Cap Sleeves</h5>
							</div>
						</div>


						<div class="garmentSliders list" id="femaleShirt_2" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Short Sleeves</h5>
							</div>
							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Neckline</h5>
							</div>
							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Crop Top</h5>
							</div>
							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Boxiness</h5>
							</div>
						</div>

						<div class="garmentSliders list" id="femaleCoat_3" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Fullness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Length</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Neckline</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph5"></div>
								<h5 class="label english">Sleeve Width</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph6"></div>
								<h5 class="label english">Shoulders</h5>
							</div>
						</div>

						<div class="garmentSliders list" id="femalePants_4" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Tightness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Shorts</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Low-Rise</h5>
							</div>
						</div>

						<div class="garmentSliders list" id="femalePants_5" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Tightness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Shorts</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Low-Rise</h5>
							</div>
						</div>

						<div class="garmentSliders male list" id="maleCoat_0" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Length</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Shoulders</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Cowl</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph5"></div>
								<h5 class="label english">Collar</h5>
							</div>
						</div>

						<div class="garmentSliders male list" id="maleCoat_1" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Length</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Shoulders</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Cowl</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph5"></div>
								<h5 class="label english">Collar</h5>
							</div>
						</div>

						<div class="garmentSliders list" id="maleShirt_2" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Shorten</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Short Sleeves</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Cowl</h5>
							</div>
						</div>

						<div class="garmentSliders male list" id="malePants_4" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Tightness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Shorts</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Width</h5>
							</div>
						</div>

						<div class="garmentSliders male list" id="malePants_5" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Tightness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Shorts</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Width</h5>
							</div>
						</div>


						<div class="garmentSliders male list" id="maleCollarShirt" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Short Sleeves</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Shirt Tails</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Collar Points</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph5"></div>
								<h5 class="label english">Collar Size</h5>
							</div>
						</div>

						<div class="garmentSliders male list" id="maleSleeveless_3" style="display:none;">
							<div class="container_slider">
								<div class="slider morph1"></div>
								<h5 class="label english">Length</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph2"></div>
								<h5 class="label english">Boxiness</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph3"></div>
								<h5 class="label english">Short Sleeves</h5>
							</div>

							<div class="container_slider">
								<div class="slider morph4"></div>
								<h5 class="label english">Neckline</h5>
							</div>
						</div>

						<div class="garmentSliders male list" id="COM_snakes_0" style="display: none;"></div><div class="garmentSliders male list" id="COM_snakes_1" style="display: none;"></div><div class="garmentSliders male list" id="COM_wings_0" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Shorten</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Width</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Tight</h5></div></div><div class="garmentSliders male list" id="COM_wings_1" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Shorten</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Width</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Tight</h5></div></div><div class="garmentSliders male list" id="COM_shirt_2" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Neck V</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Neck Tight</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Sleeve Shorten</h5></div><div class="container_slider"><div class="slider morph4"></div><h5 class="label english">Inflate</h5></div><div class="container_slider"><div class="slider morph5"></div><h5 class="label english">Tighten</h5></div></div><div class="garmentSliders male list" id="COM_shirt_3" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Neck V</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Neck Tight</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Sleeve Shorten</h5></div><div class="container_slider"><div class="slider morph4"></div><h5 class="label english">Inflate</h5></div><div class="container_slider"><div class="slider morph5"></div><h5 class="label english">Tighten</h5></div></div><div class="garmentSliders male list" id="COM_hoodie_2" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Hood On</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Hood Large</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">V Neck</h5></div><div class="container_slider"><div class="slider morph4"></div><h5 class="label english">Round Neck</h5></div><div class="container_slider"><div class="slider morph5"></div><h5 class="label english">Inflate</h5></div><div class="container_slider"><div class="slider morph6"></div><h5 class="label english">Tighten</h5></div><div class="container_slider"><div class="slider morph7"></div><h5 class="label english">Sleeve Shorten</h5></div></div><div class="garmentSliders male list" id="COM_hoodie_3" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Hood On</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Hood Large</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">V Neck</h5></div><div class="container_slider"><div class="slider morph4"></div><h5 class="label english">Round Neck</h5></div><div class="container_slider"><div class="slider morph5"></div><h5 class="label english">Inflate</h5></div><div class="container_slider"><div class="slider morph6"></div><h5 class="label english">Tighten</h5></div><div class="container_slider"><div class="slider morph7"></div><h5 class="label english">Sleeve Shorten</h5></div></div><div class="garmentSliders male list" id="COM_shorts_4" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Shorten</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Width</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Tight</h5></div></div><div class="garmentSliders male list" id="COM_shorts_5" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Shorten</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Width</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Tight</h5></div></div><div class="garmentSliders male list" id="COM_braces_4" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Knee Extend</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Thigh Extend</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Shin Extend</h5></div><div class="container_slider"><div class="slider morph4"></div><h5 class="label english">Shield</h5></div></div><div class="garmentSliders male list" id="COM_braces_5" style="display: none;"><div class="container_slider"><div class="slider morph1"></div><h5 class="label english">Knee Extend</h5></div><div class="container_slider"><div class="slider morph2"></div><h5 class="label english">Thigh Extend</h5></div><div class="container_slider"><div class="slider morph3"></div><h5 class="label english">Shin Extend</h5></div><div class="container_slider"><div class="slider morph4"></div><h5 class="label english">Shield</h5></div></div></div>

					</div>

				</div>

				<div class="overlay" style="display:none;">
					<div class="inner_overlay">
						<div class="bt_close"><a href="javascript:void(0)" onclick="remove_overlay(); return false;"><img src="/images/common/ico-close.svg" width="18" height="18" alt=""/></a></div>

						<div class="inner">
							<p>Start your collection by creating garments. Select the garment you want to work with enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur.</p>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<!--NAVIGATION-->
	<div id="navigation">

		<div class="left">
			<a href="javascript:void(0)" id="prevLink">
				<img src="/images/login/arrow-left.svg" alt="left arrow" width="35" height="35">
			</a>
		</div>

		<div class="center">
			<ul>
				<li class="circle"></li><!--
				--><li class="circle circle-active"></li><!--
				--><li class="circle"></li><!--
				--><li class="circle"></li><!--
				--><li class="circle"></li>
			</ul>
			<h2>GARMENTS</h2>
		</div>

		<div class="right">
			<a href="javascript:void(0)" id="nextLink" onClick="saveCollection();">
				<img src="/images/login/arrow-right.svg" alt="left arrow" width="35" height="35">
			</a>
		</div>

		<div class="cb"></div>

	</div>

	<!--FOOTER-->
	<div id="footer">
		<div class="inner_footer">
			<ul>
				<li class="link"><a href="http://google.com">GOOGLE</a></li><!--
					--><li>/</li><!--
					--><li class="link"><a class="fancy_bt fancybox.ajax" href="/logout">LOGOUT</a></li>
			</ul>
		</div>
	</div>

</div>

<!--BACKGROUND-->
<div id="site_background">
	<ul id="scene">
		<li class="gradient layer" data-depth="0.00"></li>
		<li class="image layer" data-depth="0.40"></li>
		<li class="dots layer" data-depth="0.00"></li>
	</ul>
</div>

<script>
var urlParams;
var gender = "female";
var language = "english";
var currentGarment = "femaleDress";
var selectedGarments = new Array();
var garments = new Array();

(window.onpopstate = function () {
	var match,
			pl     = /\+/g,  // Regex for replacing addition symbol with a space
			search = /([^&=]+)=?([^&]*)/g,
			decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
			query  = window.location.search.substring(1);

	urlParams = {};
	while (match = search.exec(query))
		urlParams[decode(match[1])] = decode(match[2]);
})();

var designer = urlParams.designer;

if (designer) {
	if(Designers[designer]){
		currentGarment = Designers[designer].full[0].name;
	} else {
		currentGarment = "femaleDress";
	}
	
}


$(".garment-select").hide();

var collection;
var Rose1;
var ASSETS_URL = '/assets/';
var bodyFile =  ASSETS_URL + 'female/female_model_new.js';
var mesh;

function updateGarments(){
	if (collection.garments) {
			console.log('garments exist');
			Rose1 = new Rose("view", bodyFile, gender, [collection.garments[0]], 'sphere');
			for (var i=0; i< collection.garments.length; i++) {
				setMorphSliders(collection.garments[i].name+"_"+i, collection.garments[i].morphs);
				//console.log("#garmentSelect"+i+" option[value='"+collection.garments[i].name+"']");
				$("#garmentSelect"+i+" option[value='"+collection.garments[i].name+"']").prop('selected', true);
				moveThumbnail(i);
			}


		} else {
			var garment = {name: currentGarment, morphs:[], shapes:[]};
			Rose1 = new Rose("view", bodyFile, gender, [garment], 'sphere');
		}

		initArrows(0);
		initArrows(1);
		initArrows(2);
		initArrows(3);
		initArrows(4);
		initArrows(5);
}

$(document).ready(function() {
	$.get( "/api/user/collection", function(data ) {
		console.log(data);
		collection = data;
		if (collection.gender) {
			gender = collection.gender;
		}
		
		$(".collectionName").html(collection.collectionName);
		if (gender == "male") {
			$(".female").remove();
			$(".male").show();
			currentGarment = "COM_wings";
  			//$("#COM_wings_0").show();

  		console.log("adding COM male garments!!");
		COM.full.forEach(function(garment, garmentIndex) {
	        $("#garmentSelect0").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        $("#garmentSelect1").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

	        addThumbnail("Garment0", garment.name);
	        addThumbnail("Garment1", garment.name);
	        //makeMaleSliders(garment.name+"_0", garment);
	        //makeMaleSliders(garment.name+"_1", garment);   
	    });

	    COM.top.forEach(function(garment, garmentIndex) {
	        $("#garmentSelect2").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        $("#garmentSelect3").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        
	        addThumbnail("Garment2", garment.name);
			addThumbnail("Garment3", garment.name);
	        //makeMaleSliders(garment.name+"_2", garment);
	        //makeMaleSliders(garment.name+"_3", garment);
	    });

	    COM.bottom.forEach(function(garment, garmentIndex) {
	        $("#garmentSelect4").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        $("#garmentSelect5").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

	        addThumbnail("Garment4", garment.name);
	        addThumbnail("Garment5", garment.name);

	        //makeMaleSliders(garment.name+"_4", garment);
	        //makeMaleSliders(garment.name+"_5", garment);
	    });
		} else {
			$(".male").remove();
		}
		$("#Garment0").addClass("active-thumbnail");

		if (collection.gender == 'male') {
			bodyFile = ASSETS_URL + 'male/male_model_new.js';
		} else {
			bodyFile = ASSETS_URL + 'female/female_model_new.js';
		}

		setTimeout(updateGarments, 200);

		console.log(designer);
		$(".garmentSliders").hide();
		$("#"+currentGarment+"_0").show();

  	});

  	

	

	if (gender == 'female') {
		console.log("adding female garments");
		femaleGarments.full.forEach(function(garment, garmentIndex) {
	        $("#garmentSelect0").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        $("#garmentSelect1").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

	        addThumbnail("Garment0", garment.name);
	        addThumbnail("Garment1", garment.name);
	        makeSliders(garment.name+"_0", garment);
	        makeSliders(garment.name+"_1", garment);   
	    });

	    femaleGarments.top.forEach(function(garment, garmentIndex) {
	        $("#garmentSelect2").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        $("#garmentSelect3").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        
	        addThumbnail("Garment2", garment.name);
			addThumbnail("Garment3", garment.name);
	        makeSliders(garment.name+"_2", garment);
	        makeSliders(garment.name+"_3", garment);
	    });

	    femaleGarments.bottom.forEach(function(garment, garmentIndex) {
	        $("#garmentSelect4").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
	        $("#garmentSelect5").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

	        addThumbnail("Garment4", garment.name);
	        addThumbnail("Garment5", garment.name);

	        makeSliders(garment.name+"_4", garment);
	        makeSliders(garment.name+"_5", garment);
	    });

	    if (designer && Designers[designer]) {
	    	console.log(Designers[designer]);
	    	Designers[designer].full.forEach(function(garment, garmentIndex) {
		        $("#garmentSelect0").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
		        $("#garmentSelect1").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

		        addThumbnail("Garment0", garment.name);
	        	addThumbnail("Garment1", garment.name);

		        $("#garmentSelect0").prop('selectedIndex', 0);
		        $("#garmentSelect1").prop('selectedIndex', 0);
		        makeSliders(garment.name+"_0", garment);
		        makeSliders(garment.name+"_1", garment);   
	    	});

	    	Designers[designer].top.forEach(function(garment, garmentIndex) {
		        $("#garmentSelect2").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
		        $("#garmentSelect3").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

		        addThumbnail("Garment2", garment.name);
				addThumbnail("Garment3", garment.name);

		        $("#garmentSelect2").prop('selectedIndex', 0);
		        $("#garmentSelect3").prop('selectedIndex', 0);
		        makeSliders(garment.name+"_2", garment);
		        makeSliders(garment.name+"_3", garment);
		    });

		    Designers[designer].bottom.forEach(function(garment, garmentIndex) {
		        $("#garmentSelect4").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");
		        $("#garmentSelect5").prepend("<option value='"+garment.name+"'>"+garment.name+"</option>");

		        addThumbnail("Garment4", garment.name);
	        	addThumbnail("Garment5", garment.name);

		        $("#garmentSelect4").prop('selectedIndex', 0);
		        $("#garmentSelect5").prop('selectedIndex', 0);
		        makeSliders(garment.name+"_4", garment);
		        makeSliders(garment.name+"_5", garment);
		    });

	    }
	}
});

function addThumbnail (id, garmentname) {
   $("#"+id+" .thumbnail").first().prepend("<img class='"+garmentname+"' src='/images/garments/thumbnails/"+garmentname+".jpg' title='"+garmentname+"'>");

}

function makeSliders(name, garment) {
	$("#MorphSliders").append("<div class='garmentSliders female list' id='"+name+"' style='display:none;'></div>");
        garment.morphNames.forEach(function(morph, i) {
        	var index = i+1;
        	$("#"+name).append('<div class="container_slider"><div class="slider morph'+index+'"></div><h5 class="label english">'+morph+'</h5></div>');
        });
}

function makeMaleSliders(name, garment) {
	$("#MorphSliders").append("<div class='garmentSliders male list' id='"+name+"' style='display:none;'></div>");
        garment.morphNames.forEach(function(morph, i) {
        	var index = i+1;
        	$("#"+name).append('<div class="container_slider"><div class="slider morph'+index+'"></div><h5 class="label english">'+morph+'</h5></div>');
        });
}

function setMorph(index, value) {
	var morphs=Rose1.getView().getLook().getGarment().morphs.influences;
	morphs[index]=value;
}

function getGarments() {
	garments = [];
	selectedGarments = new Array();
	collection.garments = new Array();

	for (i=0; i<6; i++) {
		selectedGarments.push($("#garmentSelect"+i+" option:selected").val());
	}
	
	
	for ( i=0; i<selectedGarments.length; i++) {
		var morphs = new Array();
		//console.log(selectedGarments[i]);
		//console.log($("#"+selectedGarments[i]).find(".slider"));
		$("#"+selectedGarments[i]+"_"+i).find(".slider").each(function(index){
			morphs.push($(this).slider("option","value")/100);
		});
		//console.log(morphs);

		garments.push({name: selectedGarments[i], morphs: morphs, shapes:[]});

	}

	collection.garments = garments;
	console.log(collection);
}

function saveCollection() {
	getGarments();
	var postData = JSON.stringify(collection);
	$.ajax ({
		url : "/collection",
		type: "POST",
		data: {data: postData},
		success: function (data) {
			window.location = "/embellish?garment="+collection.garments[0].name+"&index=0";
			//console.log(data);
		},
		error: function() {
			console.log("failed to save collection");
		}
	});
	//e.preventDefault();
	//e.unbind();
}


function initArrows(index) {
	$("#Garment"+index+" .Rarrow").click(function(){
    if ($("#garmentSelect"+index).prop('selectedIndex') == $("#garmentSelect"+index+" option").length-1) {
      $("#garmentSelect"+index).prop('selectedIndex', 0)
    } else {
      $("#garmentSelect"+index+" option:selected").next().prop('selected', true);
    }

	currentGarment = $("#garmentSelect"+index+" option:selected").val();
	var name = $("#garmentSelect"+index+" option:selected").val()+"_"+index;
	changeGarment(name);
	$(".garmentSliders").hide();
	$("#"+name).show();
	moveThumbnail(index);
  });
  $("#Garment"+index+" .Larrow").click(function(){
    if ($("#garmentSelect"+index).prop('selectedIndex') == 0) {
      $("#garmentSelect"+index).prop('selectedIndex', $("#garmentSelect"+index+" option").length-1)
    } else {
      $("#garmentSelect"+index+" option:selected").prev().prop('selected', true);
    }

    currentGarment = $("#garmentSelect"+index+" option:selected").val();
	var name = $("#garmentSelect"+index+" option:selected").val()+"_"+index;
	changeGarment(name);
	$(".garmentSliders").hide();
	$("#"+name).show();
	moveThumbnail(index);
  });
}

function moveThumbnail(index){
	var num = $("#garmentSelect"+index).prop('selectedIndex');

	$("#Garment"+index+" .thumbnail img").eq(num).show();
    for (var i=0; i<num; i++) {
        $("#Garment"+index+" .thumbnail img").eq(i).hide();
    }
    for (var i=num+1; i<($(".shape-icon img").length); i++) {
        $("#Garment"+index+" .thumbnail img").eq(i).hide();
    }
}



$(".marker").click(function(){
	//console.log($(this).child());
	console.log($(this).hasClass("inactive-garment"));
	if ($(this).hasClass("inactive-garment") == true) {
		$(this).attr("src", "/images/checkmark.svg");
		$(this).addClass("active-garment");
		$(this).removeClass("inactive-garment");

	} else if ($(this).hasClass('active-garment') == true) {
		$(this).attr("src", "/images/xmark.svg");
		$(this).removeClass("active-garment");
		$(this).addClass("inactive-garment");
	}
});


$(".garment").mouseup(function(){
	if( !$(this).hasClass("active-thumbnail") ) {
		var index=$(this).attr('data-id');
		currentGarment = $("#garmentSelect"+index+" option:selected").val();
		console.log(currentGarment);
		console.log(index);
		

		var name = $("#garmentSelect"+index+" option:selected").val()+"_"+index;
		console.log(name);
		changeGarment(name);

		$(".garmentSliders").hide();
		$("#"+name).show();

		$(".garment").removeClass("active-thumbnail");
		$(this).addClass("active-thumbnail");
	}
});

function changeGarment(slidername) {
	console.log(name);
	var morphs = [];
	$("#"+slidername+ " .slider").each(function(){
		var val = $(this).slider("option", "value");
		morphs.push(val/100);
	});
	console.log(morphs);

/*

	if(collection.garments) {
		Rose1 = new Rose("view", bodyFile, gender, [collection.garments[index]]);
		setMorphSliders(collection.garments[index].name, collection.garments[index].morphs);
	} else {
		*/
		var garment = {name: currentGarment, morphs:morphs, shapes:[]};
		Rose1 = new Rose("view", bodyFile, gender, [garment]);
	/*
	}
	*/

}


function updateMorph() {
	var i=0;
	$("#"+currentGarment+ " .slider").each(function(){
		i++;
		var val = $(this).slider("option", "value");
		//mesh.morphs.influences[ i ] = val/100;
	});
}

function setMorphSliders(name, morphs) {
	for (i=1; i<=morphs.length; i++) {
		$( "#"+name+ " .morph"+i ).slider('value', morphs[i-1]*100);
	}
}

$(function() {
	$( "#rotateSlider" ).slider({
		min: 0,
		max: 360,
		value: 0,
		slide: function (event, ui) {
			var angle = $(this).slider("option", "value");
			Rose1.setRotation(angle);
		}
	});

	$("#prevLink").attr("href", "/collection") ;

	$( ".morph1" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(1, val/100);
		}
	});

	$( ".morph2" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(2, val/100);
		}
	});

	$( ".morph3" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(3, val/100);
		}
	});

	$( ".morph4" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(4, val/100);
		}
	});

	$( ".morph5" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(5, val/100);
		}
	});

	$( ".morph6" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(6, val/100);
		}
	});

	$( ".morph7" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(7, val/100);
		}
	});

	$( ".morph8" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(8, val/100);
		}
	});

	$( ".morph9" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(9, val/100);
		}
	});

	$( ".morph10" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(10, val/100);
		}
	});
		$( ".morph11" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(11, val/100);
		}
	});
	$( ".morph12" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(12, val/100);
		}
	});
	$( ".morph13" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(13, val/100);
		}
	});

	$( ".morph14" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(14, val/100);
		}
	});

	$( ".morph15" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(15, val/100);
		}
	});

	$( ".morph16" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(16, val/100);
		}
	});

	$( ".morph17" ).slider({
		min: 0,
		max: 100,
		slide: function (event, ui) {
			var val = $(this).slider("option", "value");
			setMorph(17, val/100);
		}
	});

});
</script>

<script src="js/app.min.js"></script>
</body>
</html>